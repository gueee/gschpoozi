{
  "id": "smart-orbiter-so3",
  "name": "Smart Orbiter SO3",
  "manufacturer": "LDO Motors / Orbiter Projects",
  "type": "integrated_extruder",
  "connection": "Direct to main board pins",
  "source": "https://github.com/RobertLorincz/Smart-Orbiter-SO3",
  "description": "All-in-one extruder with integrated TMC2209, heater, thermistor, fan, RGB LED, filament sensor",
  
  "features": {
    "extruder": true,
    "hotend_heater": true,
    "hotend_thermistor": true,
    "extruder_thermistor": true,
    "hotend_fan": true,
    "filament_sensor": true,
    "filament_unload_button": true,
    "rgb_led": true,
    "hotend_led": true,
    "tmc2209": true
  },

  "specifications": {
    "weight": "175g",
    "rotation_distance": 4.69,
    "gear_ratio": "7.5:1",
    "steps_per_mm_16x": 690,
    "max_stepper_current": "0.85A RMS",
    "min_stepper_current": "0.55A RMS",
    "heater_power": "72W ceramic",
    "max_hotend_temp": 300,
    "max_operating_temp": 90,
    "hotend_thermistor": "ATC Semitec 104NT-4-R025H42G",
    "extruder_thermistor": "Generic 3950 100K"
  },

  "required_pins": {
    "EXTRUDER_STEP": {
      "label": "Extruder Step",
      "type": "digital_out",
      "description": "Stepper motor step signal"
    },
    "EXTRUDER_DIR": {
      "label": "Extruder Direction",
      "type": "digital_out",
      "description": "Stepper motor direction signal"
    },
    "EXTRUDER_ENABLE": {
      "label": "Extruder Enable",
      "type": "digital_out",
      "description": "Stepper motor enable signal (active low)"
    },
    "EXTRUDER_UART": {
      "label": "TMC2209 UART",
      "type": "uart",
      "uart_address": 3,
      "description": "TMC2209 UART communication"
    },
    "HOTEND_HEATER": {
      "label": "Hotend Heater",
      "type": "heater_out",
      "description": "72W ceramic heater output"
    },
    "HOTEND_THERMISTOR": {
      "label": "Hotend Thermistor",
      "type": "thermistor_in",
      "pullup": "4.7K",
      "description": "ATC Semitec 104NT-4-R025H42G"
    },
    "EXTRUDER_FAN": {
      "label": "Extruder Fan",
      "type": "pwm_out",
      "inverted": true,
      "description": "Frameless 24V fan with speed signal"
    },
    "EXTRUDER_FAN_TACH": {
      "label": "Fan Tachometer",
      "type": "digital_in",
      "optional": true,
      "description": "Fan speed feedback signal"
    },
    "FILAMENT_SENSOR": {
      "label": "Filament Sensor",
      "type": "digital_in",
      "description": "Filament presence detection"
    },
    "FILAMENT_UNLOAD": {
      "label": "Filament Unload Button",
      "type": "digital_in",
      "inverted": true,
      "description": "Manual filament unload button"
    },
    "RGB_LED": {
      "label": "RGB LED",
      "type": "neopixel",
      "description": "WS2812B filament input LED"
    },
    "HOTEND_LED": {
      "label": "Hotend LED",
      "type": "digital_out",
      "description": "Hotend illumination LED"
    },
    "EXTRUDER_TEMP": {
      "label": "Extruder Body Thermistor",
      "type": "thermistor_in",
      "pullup": "4.7K",
      "optional": true,
      "description": "Generic 3950 100K for extruder body temperature"
    }
  },

  "klipper_config": {
    "extruder": {
      "microsteps": 32,
      "full_steps_per_rotation": 200,
      "rotation_distance": 4.69,
      "max_extrude_only_distance": 2500,
      "max_extrude_only_velocity": 120,
      "max_extrude_only_accel": 3000,
      "pressure_advance": 0.015
    },
    "tmc2209": {
      "uart_address": 3,
      "interpolate": true,
      "run_current": 0.8,
      "sense_resistor": 0.11,
      "stealthchop_threshold": 0
    },
    "heater_fan": {
      "cycle_time": 0.0001,
      "heater_temp": 85,
      "fan_speed": 0.65,
      "tachometer_ppr": 2,
      "tachometer_poll_interval": 0.0005
    }
  },

  "example_pin_mapping": {
    "board": "btt-octopus",
    "pins": {
      "EXTRUDER_STEP": "PC13",
      "EXTRUDER_DIR": "PF0",
      "EXTRUDER_ENABLE": "PF1",
      "EXTRUDER_UART": "PE4",
      "HOTEND_HEATER": "PA2",
      "HOTEND_THERMISTOR": "PF4",
      "EXTRUDER_FAN": "PA8",
      "EXTRUDER_FAN_TACH": "PC1",
      "FILAMENT_SENSOR": "PG11",
      "FILAMENT_UNLOAD": "PG12",
      "RGB_LED": "PB0",
      "HOTEND_LED": "PB6",
      "EXTRUDER_TEMP": "PF5"
    }
  }
}

